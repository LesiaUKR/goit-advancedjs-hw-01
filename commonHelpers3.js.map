{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconsole.log(form);\nconst email = document.querySelector('input');\nconsole.log(email);\nconst message = document.querySelector('textarea');\nconsole.log(message);\n\nconst FEEDBACK_FORM_KEY = 'feedback-form-state';\n\nlet feedbackForm = {};\n\nform.addEventListener('submit', onSubmit);\nform.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormInput(event) {\n  localStorage.setItem(\n    FEEDBACK_FORM_KEY,\n    JSON.stringify({\n      email: email.value,\n      message: message.value,\n    })\n  );\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  console.log(event);\n  console.log({ email: email.value, message: message.value });\n  localStorage.removeItem(FEEDBACK_FORM_KEY);\n  event.currentTarget.reset();\n}\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem(FEEDBACK_FORM_KEY));\n  console.log(feedbackForm);\n  if (feedbackForm !== null) {\n    email.value = feedbackForm.email;\n    message.value = feedbackForm.message;\n  }\n} catch (error) {\n  console.log(error);\n}\n"],"names":["form","email","message","FEEDBACK_FORM_KEY","feedbackForm","onSubmit","throttle","onFormInput","event","error"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5C,QAAQ,IAAIA,CAAK,EACjB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,QAAQ,IAAIA,CAAO,EAEnB,MAAMC,EAAoB,sBAE1B,IAAIC,EAAe,CAAA,EAEnBJ,EAAK,iBAAiB,SAAUK,CAAQ,EACxCL,EAAK,iBAAiB,QAASM,EAASC,EAAa,GAAG,CAAC,EAEzD,SAASA,EAAYC,EAAO,CAC1B,aAAa,QACXL,EACA,KAAK,UAAU,CACb,MAAOF,EAAM,MACb,QAASC,EAAQ,KACvB,CAAK,CACL,CACA,CAEA,SAASG,EAASG,EAAO,CACvBA,EAAM,eAAc,EACpB,QAAQ,IAAIA,CAAK,EACjB,QAAQ,IAAI,CAAE,MAAOP,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAC1D,aAAa,WAAWC,CAAiB,EACzCK,EAAM,cAAc,OACtB,CACA,GAAI,CACFJ,EAAe,KAAK,MAAM,aAAa,QAAQD,CAAiB,CAAC,EACjE,QAAQ,IAAIC,CAAY,EACpBA,IAAiB,OACnBH,EAAM,MAAQG,EAAa,MAC3BF,EAAQ,MAAQE,EAAa,QAEjC,OAASK,EAAP,CACA,QAAQ,IAAIA,CAAK,CACnB"}