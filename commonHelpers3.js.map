{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\n\nconst FEEDBACK_FORM_KEY = 'feedback-form-state';\n\nlet feedbackForm = {};\n\nform.addEventListener('submit', onSubmit);\nform.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormInput(event) {\n  localStorage.setItem(\n    FEEDBACK_FORM_KEY,\n    JSON.stringify({\n      email: email.value,\n      message: message.value,\n    })\n  );\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  if (email.value.trim() !== '' && message.value.trim() !== '') {\n    console.log({ email: email.value, message: message.value });\n    localStorage.removeItem(FEEDBACK_FORM_KEY);\n    event.currentTarget.reset();\n  } else {\n    alert('Будь ласка, заповніть обидва поля.');\n  }\n}\n\ntry {\n  feedbackForm = JSON.parse(localStorage.getItem(FEEDBACK_FORM_KEY));\n  if (feedbackForm !== null) {\n    email.value = feedbackForm.email;\n    message.value = feedbackForm.message;\n  }\n} catch (error) {\n  console.log(error);\n}\n"],"names":["form","email","message","FEEDBACK_FORM_KEY","feedbackForm","onSubmit","throttle","onFormInput","event","error"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAoB,sBAE1B,IAAIC,EAAe,CAAA,EAEnBJ,EAAK,iBAAiB,SAAUK,CAAQ,EACxCL,EAAK,iBAAiB,QAASM,EAASC,EAAa,GAAG,CAAC,EAEzD,SAASA,EAAYC,EAAO,CAC1B,aAAa,QACXL,EACA,KAAK,UAAU,CACb,MAAOF,EAAM,MACb,QAASC,EAAQ,KACvB,CAAK,CACL,CACA,CAEA,SAASG,EAASG,EAAO,CACvBA,EAAM,eAAc,EAChBP,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,IACxD,QAAQ,IAAI,CAAE,MAAOD,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAC1D,aAAa,WAAWC,CAAiB,EACzCK,EAAM,cAAc,SAEpB,MAAM,oCAAoC,CAE9C,CAEA,GAAI,CACFJ,EAAe,KAAK,MAAM,aAAa,QAAQD,CAAiB,CAAC,EAC7DC,IAAiB,OACnBH,EAAM,MAAQG,EAAa,MAC3BF,EAAQ,MAAQE,EAAa,QAEjC,OAASK,EAAP,CACA,QAAQ,IAAIA,CAAK,CACnB"}